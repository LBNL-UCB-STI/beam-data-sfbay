akka {
    actor {
        debug {
            fsm=off
            lifecycle=on
            unhandled=on
        }
        kryo {
            buffer-size=65536
            classes=[
                "package3.name3.className3",
                "package4.name4.className4"
            ]
            idstrategy=default
            implicit-registration-logging=false
            kryo-trace=false
            mappings {
                "package1.name1.className1"=20
                "package2.name2.className2"=21
            }
            max-buffer-size=-1
            post-serialization-transformations=off
            resolve-subclasses=false
            type=graph
            use-manifests=false
            use-unsafe=false
        }
        remote {
            log-received-messages=on
            log-remote-lifecycle-events=off
            log-sent-messages=on
        }
        serialization-bindings {
            "java.io.Serializable"=kryo
        }
        serializers {
            kryo="com.romix.akka.serialization.kryo.KryoSerializer"
        }
    }
    cluster {
        debug {
            verbose-gossip-logging=on
            verbose-heartbeat-logging=on
        }
        failure-detector {
            acceptable-heartbeat-pause="140s"
            heartbeat-interval="1s"
        }
        gossip-interval="1s"
        gossip-time-to-live="20s"
    }
    extensions=[
        "com.romix.akka.serialization.kryo.KryoSerializationExtension$"
    ]
    log-dead-letters=1
    loggers=[
        "akka.event.slf4j.Slf4jLogger"
    ]
    logging-filter="akka.event.slf4j.Slf4jLoggingFilter"
    loglevel=debug
    remote {
        artery {
            advanced {
                buffer-pool-size=128
                client-liveness-timeout="400 seconds"
                driver-timeout="400 seconds"
                large-buffer-pool-size=32
                maximum-frame-size="512MiB"
                maximum-large-frame-size="1024MiB"
            }
            enabled=on
            transport=tcp
        }
        log-received-messages=on
        log-remote-lifecycle-events=off
        log-sent-messages=on
    }
    stdout-loglevel=OFF
}
beam {
    actorSystemName=ClusterSystem
    agentsim {
        agentSampleSizeAsFractionOfPopulation=0.05
        agents {
            activities {
                activityTypeToFixedDurationMap=[
                    string
                ]
            }
            bodyType=BODY-TYPE-DEFAULT
            freight {
                carrierParkingFilePath=string
                carriersFilePath="/home/ubuntu/git/beam/production/sfbay/freight/frism-plans-base/freight-merged-carriers.csv"
                enabled=true
                generateFixedActivitiesDurations=true
                isWgs=true
                name=Freight
                nonHGVLinkWeightMultiplier=1.5
                plansFilePath="/home/ubuntu/git/beam/production/sfbay/freight/frism-plans-base/freight-merged-payload-plans.csv"
                reader=Generic
                replanning {
                    departureTime=28800
                    disableAfterIteration=-1
                    strategy=singleTour
                }
                tourSampleSizeAsFractionOfTotal=0.05
                toursFilePath="/home/ubuntu/git/beam/production/sfbay/freight/frism-plans-base/freight-merged-tours.csv"
            }
            households {
                inputFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../samples/households.xml.gz"
                inputHouseholdAttributesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../samples/householdAttributes.xml.gz"
            }
            modalBehaviors {
                bikeMultiplier {
                    commute {
                        ageGT50=1.0
                        ageLE50=1.0
                    }
                    noncommute {
                        ageGT50=1.0
                        ageLE50=1.0
                    }
                }
                defaultValueOfTime=8
                highTimeSensitivity {
                    highCongestion {
                        highwayFactor {
                            Level3=1
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                        nonHighwayFactor {
                            Level3=1
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                    }
                    lowCongestion {
                        highwayFactor {
                            Level3=1
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                        nonHighwayFactor {
                            Level3=1
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                    }
                }
                lccm {
                    filePath="/home/ubuntu/git/beam/production/sfbay/freight/../lccm-long.csv"
                }
                lowTimeSensitivity {
                    highCongestion {
                        highwayFactor {
                            Level3=1
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                        nonHighwayFactor {
                            Level3=1
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                    }
                    lowCongestion {
                        highwayFactor {
                            Level3=0.7
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=0.9
                        }
                        nonHighwayFactor {
                            Level3=0.7
                            Level4=1.0
                            Level5=1.0
                            LevelLE2=1
                        }
                    }
                }
                maximumNumberOfReplanningAttempts=3
                minimumValueOfTime=7.25
                modeChoiceClass=ModeChoiceMultinomialLogit
                modeVotMultiplier {
                    CAV=0.35
                    bike=1
                    drive=1
                    rideHail=1
                    rideHailPooled=1.0
                    rideHailTransit=1.0
                    transit=1
                    waiting=2
                    walk=1
                }
                multinomialLogit {
                    params {
                        "bike_intercept"=-3.75
                        "bike_transit_intercept"=0.0
                        "car_intercept"=3.5
                        "cav_intercept"=0.0
                        "drive_transit_intercept"=8
                        "ride_hail_intercept"=-6
                        "ride_hail_pooled_intercept"=-7
                        "ride_hail_transit_intercept"=3
                        transfer=-1.4
                        "transit_crowding"=0.0
                        "transit_crowding_VOT_multiplier"=0.0
                        "transit_crowding_VOT_threshold"=0.5
                        "transit_crowding_percentile"=90.0
                        "walk_intercept"=4.75
                        "walk_transit_intercept"=1.5
                    }
                    "utility_scale_factor"=1.0
                }
                overrideAutomationForVOTT=false
                overrideAutomationLevel=1
                poolingMultiplier {
                    Level3=1.3
                    Level4=1.6
                    Level5=1.6
                    LevelLE2=1.3
                }
                transitVehicleTypeVOTMultipliers=[
                    string
                ]
            }
            modeIncentive {
                filePath=""
            }
            parking {
                estimatedMinParkingDurationInSeconds=60.0
                fractionOfSameTypeZones=0.5
                maxSearchRadius=8046.72
                minNumberOfSameTypeZones=10
                minSearchRadius=250.0
                multinomialLogit {
                    params {
                        distanceMultiplier=-0.086
                        enrouteDetourMultiplier=-0.05
                        homeActivityPrefersResidentialParkingMultiplier=2
                        parkingPriceMultiplier=-0.5
                        rangeAnxietyMultiplier=-0.5
                    }
                }
                rangeAnxietyBuffer=20000.0
                searchMaxDistanceRelativeToEllipseFoci=4.0
            }
            plans {
                inputPersonAttributesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../samples/populationAttributes.xml.gz"
                inputPlansFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../samples/population.xml.gz"
                merge {
                    fraction=0.0
                }
            }
            population {
                industryRemovalProbabilty {
                    enabled=false
                    inputFilePath=""
                    removalStrategy=RemovePersonFromScenario
                }
                useVehicleSampling=true
            }
            ptFare {
                filePath=""
            }
            rideHail {
                allocationManager {
                    alonsoMora {
                        maxRequestsPerVehicle=5
                        solutionSpaceSizePerVehicle=4
                        travelTimeDelayAsFraction=0.5
                        waitingTimeInSec=1200
                    }
                    matchingAlgorithm="ALONSO_MORA_MATCHING_WITH_ASYNC_GREEDY_ASSIGNMENT"
                    maxExcessRideTime=0.5
                    maxWaitingTimeInSec=900
                    name="POOLING_ALONSO_MORA"
                    pooledRideHailIntervalAsMultipleOfSoloRideHail=1
                    repositionLowWaitingTimes {
                        allowIncreasingRadiusIfDemandInRadiusLow=true
                        demandWeight=4
                        distanceWeight=0.01
                        keepMaxTopNScores=5
                        minDemandPercentageInRadius=0.1
                        minScoreThresholdForRepositioning=1.0E-5
                        minimumNumberOfIdlingVehiclesThresholdForRepositioning=1
                        percentageOfVehiclesToReposition=0.01
                        produceDebugImages=true
                        repositionCircleRadiusInMeters=3000.0
                        repositioningMethod="TOP_SCORES"
                        timeWindowSizeInSecForDecidingAboutRepositioning=1200
                        waitingTimeWeight=4
                    }
                    requestBufferTimeoutInSeconds=300
                }
                cav {
                    noRefuelThresholdInMeters=96540
                    refuelRequiredThresholdInMeters=16090
                    valueOfTime=1
                }
                charging {
                    vehicleChargingManager {
                        defaultVehicleChargingManager {
                            multinomialLogit {
                                params {
                                    chargingTimeMultiplier=-0.01666667
                                    drivingTimeMultiplier=-0.01666667
                                    insufficientRangeMultiplier=-60.0
                                    queueingTimeMultiplier=-0.01666667
                                }
                            }
                        }
                    }
                }
                defaultBaseCost=1.8
                defaultCostPerMile=0.91
                defaultCostPerMinute=0.28
                human {
                    noRefuelThresholdInMeters=128720
                    refuelRequiredThresholdInMeters=32180
                }
                initialization {
                    filePath=""
                    initType=PROCEDURAL
                    parking {
                        filePath="/home/ubuntu/git/beam/production/sfbay/freight/../parking/sfbay_taz_unlimited_depots.csv"
                    }
                    procedural {
                        fractionOfInitialVehicleFleet=0.02
                        initialLocation {
                            home {
                                radiusInMeters=500
                            }
                            name="RANDOM_ACTIVITY"
                        }
                        vehicleTypeId=conv-L1-10000-to-25000-LowTech-2019
                        vehicleTypePrefix=RH
                    }
                }
                iterationStats {
                    timeBinSizeInSec=3600
                }
                linkFleetStateAcrossIterations=false
                name=GlobalRHM
                pooledBaseCost=1.89
                pooledCostPerMile=1.11
                pooledCostPerMinute=0.07
                rangeBufferForDispatchInMeters=10000
                refuelLocationType=AtTAZCenter
                refuelThresholdInMeters=1000
                repositioningManager {
                    demandFollowingRepositioningManager {
                        fractionOfClosestClustersToConsider=0.2
                        horizon=1200
                        numberOfClustersForDemand=300
                        sensitivityOfRepositioningToDemand=3.4
                        sensitivityOfRepositioningToDemandForCAVs=1.7
                    }
                    inverseSquareDistanceRepositioningFactor {
                        predictionHorizon=3600
                        sensitivityOfRepositioningToDemand=0.4
                        sensitivityOfRepositioningToDistance=0.9
                    }
                    name="DEMAND_FOLLOWING_REPOSITIONING_MANAGER"
                    timeout=300
                }
                rideHailManager {
                    radiusInMeters=5000
                }
                surgePricing {
                    minimumSurgeLevel=0.1
                    numberOfCategories=6
                    priceAdjustmentStrategy="KEEP_PRICE_LEVEL_FIXED_AT_ONE"
                    surgeLevelAdaptionStep=0.1
                }
            }
            rideHailTransit {
                modesToConsider=MASS
            }
            tripBehaviors {
                carUsage {
                    minDistanceToTrainStop=0.0
                }
                multinomialLogit {
                    "activity_file_path"=""
                    "additional_trip_utility"=0.0
                    "destination_nest_scale_factor"=1.0
                    "generate_secondary_activities"=false
                    "intercept_file_path"=""
                    "max_destination_choice_set_size"=20
                    "max_destination_distance_meters"=32000.0
                    "mode_nest_scale_factor"=1.0
                    "trip_nest_scale_factor"=1.0
                }
            }
            vehicles {
                destination {
                    home {
                        refuelRequiredThresholdInMeters=128747.6
                    }
                    noRefuelThresholdInMeters=128720
                    refuelRequiredThresholdInMeters=64373.8
                }
                downsamplingMethod="SECONDARY_VEHICLES_FIRST"
                dummySharedBike {
                    vehicleTypeId=sharedVehicle-sharedBike
                }
                dummySharedCar {
                    vehicleTypeId=sharedVehicle-sharedCar
                }
                enroute {
                    estimateOfMeanChargingDurationInSecond=1800
                    noRefuelAtRemainingDistanceThresholdInMeters=500
                    noRefuelThresholdOffsetInMeters=32186.9
                    refuelRequiredThresholdOffsetInMeters=0
                    remainingDistanceWrtBatteryCapacityThreshold=2
                }
                fractionOfInitialVehicleFleet=1
                fractionOfPeopleWithBicycle=1.0
                fuelTypesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../samples/fuelTypes.csv"
                generateEmergencyHouseholdVehicleWhenPlansRequireIt=true
                linkSocAcrossIterations=false
                linkToGradePercentFilePath=""
                meanPrivateVehicleStartingSOC=0.6
                meanRidehailVehicleStartingSOC=0.6
                replanOnTheFlyWhenHouseholdVehiclesAreNotAvailable=false
                sharedFleets=[]
                transitVehicleTypesByRouteFile=""
                vehicleAdjustmentMethod="INCOME_BASED"
                vehicleTypesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../smart/vehicle-tech/vehicletypes-baseline-freight.csv"
                vehiclesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../samples/vehicles.csv.gz"
            }
        }
        chargingNetworkManager {
            chargingPointCostScalingFactor=0.05
            chargingPointCountScalingFactor=0.05
            chargingPointFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../parking/sfbay_taz_unlimited_charging_point.csv"
            helics {
                bufferSize=10000000
                connectionEnabled=false
                coreInitString="--federates=1 --broker_address=tcp://127.0.0.1"
                coreType=zmq
                dataInStreamPoint="beam_to_pydss_federate/pubs_power_limit_and_lpm_control"
                dataOutStreamPoint=chargingLoad
                federateName=beamFederate
                feedbackEnabled=false
                intLogLevel=1
                timeDeltaProperty=1
            }
            maxChargingSessionsInSeconds=43200
            overnightChargingEnabled=false
            scaleUp {
                enabled=false
                "expansionFactor_charge_activity"=1.0
                "expansionFactor_home_activity"=1.0
                "expansionFactor_init_activity"=1.0
                "expansionFactor_wherever_activity"=1.0
                "expansionFactor_work_activity"=1.0
            }
            timeStepInSeconds=300
        }
        endTime="60:00:00"
        firstIteration=0
        fractionOfPlansWithSingleActivity=0.0
        h3taz {
            lowerBoundResolution=6
            upperBoundResolution=9
        }
        lastIteration=12
        populationAdjustment="DEFAULT_ADJUSTMENT"
        scenarios {
            frequencyAdjustmentFile="/test/input/beamville/r5/FrequencyAdjustment.csv"
        }
        scheduleMonitorTask {
            initialDelay=10
            interval=300
        }
        schedulerParallelismWindow=150
        simulationName=sfbay-freight-base-2018-05p-cap4
        snapLocationAndRemoveInvalidInputs=true
        taz {
            filePath="/home/ubuntu/git/beam/production/sfbay/freight/../taz-centers.csv"
            parkingCostScalingFactor=0.05
            parkingFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../parking/sfbay-parking-stalls.csv"
            parkingManager {
                displayPerformanceTimings=false
                method=DEFAULT
                parallel {
                    numberOfClusters=8
                }
            }
            parkingStallCountScalingFactor=0.05
            tazIdFieldName=tazId
        }
        thresholdForMakingParkingChoiceInMeters=100
        thresholdForWalkingInMeters=100
        timeBinSize=3600
        toll {
            filePath="/test/input/beamville/toll-prices.csv"
        }
        tuning {
            fuelCapacityInJoules=8.64E7
            rideHailPrice=1
            tollPrice=1
            transitCapacity=0.24
            transitPrice=1
        }
    }
    beamskimmer {
        writeAllModeSkimsForPeakNonPeakPeriodsInterval=0
        writeFullSkimsInterval=0
        writeObservedSkimsInterval=1
        writeObservedSkimsPlusInterval=1
    }
    calibration {
        counts {
            averageCountsOverIterations=1
            countsScaleFactor=10.355
            inputCountsFile=""
            writeCountsInterval=1
        }
        google {
            travelTimes {
                enable=false
                iterationInterval=5
                minDistanceInMeters=5000
                numDataPointsOver24Hours=100
                offPeakEnabled=false
                queryDate="2020-10-14"
                tolls=true
            }
        }
        meanToCountsWeightRatio=0.5
        mode {
            benchmarkFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../calibration/benchmark.csv"
        }
        objectiveFunction="ModeChoiceObjectiveFunction_AbsoluteErrorWithMinLevelRepresentationOfMode"
        roadNetwork {
            travelTimes {
                zoneBoundariesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../calibration/san_francisco_censustracts.json"
                zoneODTravelTimesFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../calibration/san_francisco-censustracts-2018-3-OnlyWeekdays-HourlyAggregate.csv.gz"
            }
        }
        studyArea {
            enabled=false
            lat=0.0
            lon=0.0
            radius=0.0
        }
    }
    cluster {
        clusterType=""
        enabled=false
    }
    debug {
        actor {
            logDepth=0
        }
        agentTripScoresInterval=0
        clearRoutedOutstandingWorkEnabled=false
        debugActorTimerIntervalInSec=0
        debugEnabled=true
        maxSimulationStepTimeBeforeConsideredStuckMin=60
        memoryConsumptionDisplayTimeoutInSec=0
        messageLogging=false
        secondsToWaitToClearRoutedOutstandingWork=60
        stuckAgentDetection {
            checkIntervalMs="1000ms"
            checkMaxNumberOfMessagesEnabled=true
            defaultTimeoutMs="900s"
            enabled=false
            overallSimulationTimeoutMs="600s"
            thresholds=[
                {
                    actorTypeToMaxNumberOfMessages {
                        rideHailManager=420
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.ridehail.RideHailManager$RideHailRepositioningTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=15
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.PersonAgent$ActivityEndTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=50
                        rideHailAgent=280
                        transitDriverAgent=150
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.modalbehaviors.DrivesVehicle$StartLegTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=1
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.PersonAgent$ActivityStartTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=1
                        rideHailAgent=1
                        transitDriverAgent=1
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.InitializeTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=20
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.PersonAgent$PersonDepartureTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=20
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.modalbehaviors.DrivesVehicle$BoardVehicleTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=20
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.modalbehaviors.DrivesVehicle$AlightVehicleTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        population=50
                        rideHailAgent=280
                        transitDriverAgent=150
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.modalbehaviors.DrivesVehicle$EndLegTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.scheduler.BeamAgentScheduler$KillTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.sim.vehiclesharing.REPVehicleRepositionTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.cosim.helics.BeamHelicsInterface$BeamFederateTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.ridehail.RideHailManager$BufferedRideHailRequestsTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.router.skim.TAZSkimsCollector$TAZSkimsCollectionTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.ridehail.RideHailResponseTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.ridehail.RideHailAgent$StartShiftTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.sim.vehiclesharing.REPVehicleTeleportTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.agents.ridehail.RideHailAgent$EndShiftTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.infrastructure.ChargingNetworkManager$ChargingTimeOutTrigger"
                },
                {
                    actorTypeToMaxNumberOfMessages {
                        transitDriverAgent=100
                    }
                    markAsStuckAfterMs="900s"
                    triggerType="beam.agentsim.infrastructure.ChargingNetworkManager$PlanEnergyDispatchTrigger"
                }
            ]
        }
        triggerMeasurer {
            enabled=false
            writeStuckAgentDetectionConfig=true
        }
        vmInformation {
            createGCClassHistogram=true
        }
        writeModeChoiceAlternatives=false
        writeRealizedModeChoiceFile=false
    }
    exchange {
        output {
            activitySimSkimsEnabled=false
            geo {
                filePath=string
            }
            sendNonChosenTripsToSkimmer=true
        }
        scenario {
            convertWgs2Utm=true
            fileFormat=csv
            folder="/home/ubuntu/git/beam/production/sfbay/freight/../activitysim/2018"
            modeMap=[
                "BIKE           -> bike",
                "DRIVEALONEFREE -> car",
                "DRIVEALONEPAY  -> car",
                "DRIVE_COM      -> drive_transit",
                "DRIVE_EXP      -> drive_transit",
                "DRIVE_HVY      -> drive_transit",
                "DRIVE_LOC      -> drive_transit",
                "DRIVE_LRF      -> drive_transit",
                "SHARED2FREE    -> car",
                "SHARED2PAY     -> car",
                "SHARED3FREE    -> car",
                "SHARED3PAY     -> car",
                "TAXI           -> ride_hail",
                "TNC_SHARED     -> ride_hail",
                "TNC_SINGLE     -> ride_hail",
                "WALK           -> walk",
                "WALK_COM       -> walk_transit",
                "WALK_EXP       -> walk_transit",
                "WALK_HVY       -> walk_transit",
                "WALK_LOC       -> walk_transit",
                "WALK_LRF       -> walk_transit"
            ]
            source="urbansim_v2"
            urbansim {
                activitySimEnabled=false
            }
        }
    }
    experimental {
        optimizer {
            enabled=false
        }
    }
    input {
        lastBaseOutputDir=output
        simulationPrefix=beamville
    }
    inputDirectory="/home/ubuntu/git/beam/production/sfbay/freight"
    logger {
        keepConsoleAppenderOn=true
    }
    metrics {
        level=off
    }
    output {
        writePlansAndStopSimulation=false
    }
    outputs {
        addTimestampToOutputDirectory=true
        baseOutputDirectory="/home/ubuntu/git/beam/output/sfbay"
        collectAndCreateBeamAnalysisAndGraphs=true
        defaultWriteInterval=3
        displayPerformanceTimings=false
        events {
            eventsToWrite="PersonArrivalEvent,PersonDepartureEvent,ActivityEndEvent,ActivityStartEvent,PersonEntersVehicleEvent,PersonLeavesVehicleEvent,ModeChoiceEvent,PathTraversalEvent,ReserveRideHailEvent,ReplanningEvent,RefuelSessionEvent,ChargingPlugInEvent,ChargingPlugOutEvent,ParkingEvent,LeavingParkingEvent,PersonCostEvent"
            fileOutputFormats=csv
        }
        generalizedLinkStats {
            endTime=108000
            startTime=0
        }
        generalizedLinkStatsInterval=3
        matsim {
            deleteITERSFolderFiles=""
            deleteRootFolderFiles=""
        }
        stats {
            binSize=3600
        }
        writeAnalysis=true
        writeEventsInterval=3
        writeGraphs=true
        writePlansInterval=3
        writeR5RoutesInterval=0
    }
    physsim {
        bprsim {
            inFlowAggregationTimeWindowInSeconds=900
            minFlowToUseBPRFunction=0
            travelTimeFunction=BPR
        }
        cchRoutingAssignment {
            congestionFactor=1.0
        }
        duplicatePTE {
            departureTimeShiftMax=600
            departureTimeShiftMin=-600
            fractionOfEventsToDuplicate=0.0
        }
        eventManager {
            numberOfThreads=1
            type=Auto
        }
        events {
            eventsToWrite="ActivityEndEvent,ActivityStartEvent,LinkEnterEvent,LinkLeaveEvent,PersonArrivalEvent,PersonDepartureEvent,VehicleEntersTrafficEvent,VehicleLeavesTrafficEvent"
            fileOutputFormats=csv
        }
        eventsForFullVersionOfVia=true
        eventsSampling=1.0
        flowCapacityFactor=0.04
        initializeRouterWithFreeFlowTimes=true
        inputNetworkFilePath="/home/ubuntu/git/beam/production/sfbay/freight/../r5-hgv/physsim-network.xml"
        jdeqsim {
            agentSimPhysSimInterfaceDebugger {
                enabled=false
            }
            cacc {
                adjustedMinimumRoadSpeedInMetersPerSecond=1.3
                capacityPlansWriteInterval=0
                enabled=true
                minRoadCapacity=2000
                minSpeedMetersPerSec=20
                speedAdjustmentFactor=1.0
            }
        }
        linkStatsBinSize=3600
        linkStatsWriteInterval=3
        maxLinkLengthToApplySpeedScalingFactor=50.0
        name=JDEQSim
        network {
            maxSpeedInference {
                enabled=false
                type=MEAN
            }
            overwriteRoadTypeProperties {
                enabled=false
            }
            removeIslands=true
        }
        overwriteLinkParamPath=""
        parbprsim {
            numberOfClusters=8
            syncInterval=60
        }
        pickUpDropOffAnalysis {
            additionalTravelTimeMultiplier=1.0
            enabled=false
            secondsFromPickUpPropOffToAffectTravelTime=600
        }
        ptSampleSize=0.03
        "quick_fix_minCarSpeedInMetersPerSecond"=1.3
        relaxation {
            "experiment2_0" {
                clearModesEveryIteration=true
                clearRoutesEveryIteration=true
                fractionOfPopulationToReroute=0.1
                internalNumberOfIterations=15
            }
            "experiment2_1" {
                clearModesEveryIteration=true
                clearRoutesEveryIteration=true
                fractionOfPopulationToReroute=0.1
                internalNumberOfIterations=15
            }
            "experiment3_0" {
                fractionOfPopulationToReroute=0.1
                internalNumberOfIterations=15
            }
            type=normal
        }
        skipPhysSim=false
        speedScalingFactor=1.0
        storageCapacityFactor=1.2
        writeEventsInterval=0
        writeMATSimNetwork=true
        writePlansInterval=3
        writeRouteHistoryInterval=3
    }
    replanning {
        "ModuleProbability_1"=0.7
        "ModuleProbability_2"=0.3
        "ModuleProbability_3"=0
        "ModuleProbability_4"=0
        "Module_1"=SelectExpBeta
        "Module_2"=ClearRoutes
        "Module_3"=ClearModes
        "Module_4"=TimeMutator
        clearModes {
            iteration=0
            modes=[
                string
            ]
            strategy=AtBeginningOfIteration
        }
        fractionOfIterationsToDisableInnovation=Infinity
        maxAgentPlanMemorySize=6
    }
    router {
        skim {
            activity-sim-skimmer {
                fileBaseName=activitySimODSkims
                name=activity-sim-skimmer
            }
            drive-time-skimmer {
                fileBaseName=skimsTravelTimeObservedVsSimulated
                name=drive-time-skimmer
            }
            keepKLatestSkims=1
            origin-destination-skimmer {
                fileBaseName=skimsOD
                name=od-skimmer
                poolingTravelTimeOveheadFactor=1.21
                writeAllModeSkimsForPeakNonPeakPeriodsInterval=0
                writeFullSkimsInterval=0
            }
            "origin_destination_skimmer" {
                fileBaseName=skimsOD
                name=od-skimmer
                poolingTravelTimeOveheadFactor=1.21
                writeAllModeSkimsForPeakNonPeakPeriodsInterval=0
                writeFullSkimsInterval=0
            }
            taz-skimmer {
                fileBaseName=skimsTAZ
                geoHierarchy=TAZ
                name=taz-skimmer
            }
            transit-crowding-skimmer {
                fileBaseName=skimsTransitCrowding
                name=transit-crowding-skimmer
            }
            travel-time-skimmer {
                fileBaseName=skimsTravelTimeObservedVsSimulated
                name=travel-time-skimmer
            }
            writeAggregatedSkimsInterval=3
            writeSkimsInterval=3
        }
    }
    routing {
        baseDate="2017-09-22T00:00:00-07:00"
        carRouter=R5
        gh {
            useAlternativeRoutes=false
        }
        minimumPossibleSkimBasedTravelTimeInS=60
        overrideNetworkTravelTimesUsingSkims=false
        r5 {
            accessBufferTimeSeconds {
                bike=60
                "bike_rent"=180
                car=300
                "ride_hail"=0
                walk=0
            }
            bikeLaneLinkIdsFilePath=""
            bikeLaneScaleFactor=1.0
            departureWindow=1.0167
            directory="/home/ubuntu/git/beam/production/sfbay/freight/../r5-hgv"
            directory2=""
            linkRadiusMeters=10000.0
            mNetBuilder {
                fromCRS="epsg:4326"
                toCRS="epsg:26910"
            }
            maxDistanceLimitByModeInMeters {
                bike=40000
            }
            numberOfSamples=1
            osmFile="/home/ubuntu/git/beam/production/sfbay/freight/../r5-hgv/sfbay-links-filtered-by-zoneids.osm.pbf"
            osmMapdbFile="/home/ubuntu/git/beam/production/sfbay/freight/../r5-hgv/osm.mapdb"
            suboptimalMinutes=0
            transitAlternativeList=OPTIMAL
            travelTimeNoiseFraction=0.0
        }
        skim {
            writeAggregatedSkimsInterval=1
            writeSkimsInterval=1
        }
        skimTravelTimesScalingFactor=0.0
        startingIterationForTravelTimesMSA=0
        transitOnStreetNetwork=true
        writeRoutingStatistic=false
    }
    sim {
        metric {
            collector {
                influxDbSimulationMetricCollector {
                    connectionString="http://localhost:8086"
                    database=beam
                }
                metrics="\n    beam-run, beam-iteration, beam-map-envelope,\n\n    beam-run-households, beam-run-population-size, beam-run-private-fleet-size, beam-run-charging-depots-cnt,\n    beam-run-charging-depots-stalls-cnt, beam-run-public-fast-charge-cnt, beam-run-public-fast-charge-stalls-cnt,\n\n    beam-run-RH-ev-cav, beam-run-RH-non-ev-cav, beam-run-RH-ev-non-cav, beam-run-RH-non-ev-non-cav,\n\n    parking, chargingPower, mode-choices, average-travel-time,\n\n    ride-hail-waiting-time, ride-hail-waiting-time-map, ride-hail-trip-distance\n    "
            }
        }
        termination {
            criterionName=TerminateAtFixedIterationNumber
            terminateAtRideHailFleetStoredElectricityConvergence {
                maxLastIteration=0
                minLastIteration=0
                relativeTolerance=0.01
            }
        }
    }
    spatial {
        boundingBoxBuffer=10000
        localCRS="epsg:26910"
    }
    urbansim {
        backgroundODSkimsCreator {
            calculationTimeoutHours=6
            enabled=false
            maxTravelDistanceInMeters {
                bike=33000
                walk=10000
            }
            modesToBuild {
                drive=true
                transit=true
                walk=true
            }
            numberOfH3Indexes=1000
            routerType=r5
            skimsGeoType=h3
            skimsKind=od
        }
        fractionOfModesToClear {
            allModes=0.0
            bike=0.0
            car=0.0
            "drive_transit"=0.0
            walk=0.0
            "walk_transit"=0.0
        }
    }
    useLocalWorker=true
    warmStart {
        enabled=false
        path="https://s3.us-east-2.amazonaws.com/beam-outputs/output/sfbay/sfbay-smart-base__2019-08-22_01-38-02/_20iter/_20iter_warmstart.zip"
        prepareData=true
        samplePopulationIntegerFlag=0
        skimsFilePaths=[
            {
                skimType=String
                skimsFilePath=""
            }
        ]
        type=disabled
    }
}
beam-agent-scheduler-pinned-dispatcher {
    executor=thread-pool-executor
    thread-pool-executor {
        allow-core-timeout=off
    }
    type=PinnedDispatcher
}
charging-network-manager-pinned-dispatcher {
    executor=thread-pool-executor
    thread-pool-executor {
        allow-core-timeout=off
    }
    type=PinnedDispatcher
}
config="production/sfbay/freight/freight-base-2018-05p-cap4.conf"
kamon {
    metric {
        filters {
            akka-actor {
                excludes=[
                    "beam-actor-system/system/**",
                    "beam-actor-system/user/worker-helper"
                ]
                "includes"=[
                    "beam-actor-system/user/router/**",
                    "beam-actor-system/user/worker-*"
                ]
            }
            akka-dispatcher {
                "includes"=[
                    "beam-actor-system/akka.actor.default-dispatcher"
                ]
            }
            trace {
                "includes"=[
                    "**"
                ]
            }
        }
    }
    trace {
        level=simple-no-local-trace
    }
}
matsim {
    conversion {
        defaultHouseholdIncome {
            currency=usd
            period=year
            value=50000
        }
        generateVehicles=true
        matsimNetworkFile="Siouxfalls_network_PT.xml"
        osmFile="south-dakota-latest.osm.pbf"
        populationFile="Siouxfalls_population.xml"
        scenarioDirectory="test/intput/siouxfalls"
        shapeConfig {
            shapeFile="tz46_d00.shp"
            tazIdFieldName="TZ46_D00_I"
        }
        vehiclesFile="Siouxfalls_vehicles.xml"
    }
    modules {
        changeMode {
            modes="car,pt"
        }
        controler {
            eventsFileFormat=xml
            firstIteration=0
            lastIteration=12
            mobsim=metasim
            outputDirectory=""
            overwriteFiles=overwriteExistingFiles
        }
        counts {
            averageCountsOverIterations=1
            countsScaleFactor=10.355
            outputformat=all
            writeCountsInterval=1
        }
        global {
            coordinateSystem="epsg:26910"
            randomSeed=1234
        }
        households {
            inputFile="/home/ubuntu/git/beam/production/sfbay/freight/../samples/households.xml.gz"
            inputHouseholdAttributesFile="/home/ubuntu/git/beam/production/sfbay/freight/../samples/householdAttributes.xml.gz"
        }
        linkStats {
            averageLinkStatsOverIterations=5
            writeLinkStatsInterval=10
        }
        network {
            inputNetworkFile="/home/ubuntu/git/beam/production/sfbay/freight/../r5-hgv/physsim-network.xml"
        }
        parallelEventHandling {
            estimatedNumberOfEvents=10000
            numberOfThreads=1
            oneThreadPerHandler=false
            synchronizeOnSimSteps=false
        }
        planCalcScore {
            BrainExpBeta="2.0"
            earlyDeparture="-0"
            lateArrival="-18"
            learningRate="1.0"
            parameterset=[
                {
                    activityType=Home
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="01:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=Work
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="9:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=Shopping
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="9:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=Social
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="4:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=Eatout
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="2:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=School
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="8:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=Escort
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="00:30:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=University
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="08:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    activityType=Other
                    priority=1
                    scoringThisActivityAtAll=true
                    type=activityParams
                    typicalDuration="02:00:00"
                    typicalDurationScoreComputation=uniform
                },
                {
                    constant=0
                    "marginalUtilityOfDistance_util_m"=0
                    "marginalUtilityOfTraveling_util_hr"=-6
                    mode=car
                    monetaryDistanceRate=0
                    type=modeParams
                },
                {
                    constant=0
                    "marginalUtilityOfDistance_util_m"=0
                    "marginalUtilityOfTraveling_util_hr"=-6
                    mode=walk
                    monetaryDistanceRate=0
                    type=modeParams
                },
                {
                    constant=0
                    "marginalUtilityOfDistance_util_m"=0
                    "marginalUtilityOfTraveling_util_hr"=-6
                    mode=bike
                    monetaryDistanceRate=0
                    type=modeParams
                },
                {
                    constant=0
                    "marginalUtilityOfDistance_util_m"=0
                    "marginalUtilityOfTraveling_util_hr"=-6
                    mode="ride_hail"
                    monetaryDistanceRate=0
                    type=modeParams
                },
                {
                    constant=0
                    "marginalUtilityOfDistance_util_m"=0
                    "marginalUtilityOfTraveling_util_hr"=-6
                    mode="drive_transit"
                    monetaryDistanceRate=0
                    type=modeParams
                },
                {
                    constant=0
                    "marginalUtilityOfDistance_util_m"=0
                    "marginalUtilityOfTraveling_util_hr"=-6
                    mode="walk_transit"
                    monetaryDistanceRate=0
                    type=modeParams
                }
            ]
            performing="6.0"
            traveling="-6.0"
            waiting="-0"
            writeExperiencedPlans=true
        }
        plans {
            inputPersonAttributesFile="/home/ubuntu/git/beam/production/sfbay/freight/../samples/populationAttributes.xml.gz"
            inputPlansFile="/home/ubuntu/git/beam/production/sfbay/freight/../samples/population.xml.gz"
        }
        qsim {
            endTime="60:00:00"
            snapshotperiod="00:00:00"
            startTime="00:00:00"
        }
        strategy {
            "ModuleProbability_1"=0.7
            "ModuleProbability_2"=0.3
            "ModuleProbability_3"=0
            "ModuleProbability_4"=0
            "Module_1"=SelectExpBeta
            "Module_2"=ClearRoutes
            "Module_3"=ClearModes
            "Module_4"=TimeMutator
            fractionOfIterationsToDisableInnovation=999999
            maxAgentPlanMemorySize=6
            parameterset=[
                {
                    disableAfterIteration=-1
                    strategyName=ClearRoutes
                    type=strategysettings
                    weight=0.3
                },
                {
                    disableAfterIteration=-1
                    strategyName=ClearModes
                    type=strategysettings
                    weight=0
                },
                {
                    disableAfterIteration=-1
                    strategyName=TimeMutator
                    type=strategysettings
                    weight=0
                },
                {
                    disableAfterIteration=-1
                    strategyName=SelectExpBeta
                    type=strategysettings
                    weight=0.7
                }
            ]
        }
        transit {
            transitModes=pt
            useTransit=false
        }
    }
}
my-custom-mailbox {
    mailbox-type="akka.dispatch.UnboundedDequeBasedMailbox"
}
originalConfigLocation="production/sfbay/freight/freight-base-2018-05p-cap4.conf"
parking-network-manager-pinned-dispatcher {
    executor=thread-pool-executor
    thread-pool-executor {
        allow-core-timeout=off
        core-pool-size-max=64
        keep-alive-time="120s"
    }
    type=PinnedDispatcher
}
ride-hail-manager-pinned-dispatcher {
    executor=thread-pool-executor
    thread-pool-executor {
        allow-core-timeout=off
    }
    type=PinnedDispatcher
}
